@page "/"

<PageTitle>Home</PageTitle>

<h3>Multi-Level Dropdown Demo</h3>

<MultiLevelDropdown Items="dropdownItems"
                    SelectedValue="selectedValue"
                    SelectedValueChanged="OnValueChanged" />

<p>Selected Value: @selectedValue</p>

@code {
    private List<DropdownItem> dropdownItems = new();
    private string selectedValue = "item3";

    protected override void OnInitialized()
    {
        dropdownItems = new List<DropdownItem>
        {
            new DropdownItem { Id = "group1", Label = "Electronics", IsGroup = true, Icon = "📱" },
            new DropdownItem { Id = "item1", Label = "Smartphones", ParentId = "group1", Icon = "📞" },
            new DropdownItem { Id = "item2", Label = "Laptops", ParentId = "group1", Icon = "💻" },
            new DropdownItem { Id = "subgroup1", Label = "Accessories", ParentId = "group1", IsGroup = true, Icon = "🎧" },
            new DropdownItem { Id = "item3", Label = "Headphones", ParentId = "subgroup1", Icon = "🎵" },
            new DropdownItem { Id = "item4", Label = "Chargers", ParentId = "subgroup1", Icon = "🔌" },

            new DropdownItem { Id = "group2", Label = "Home Appliances", IsGroup = true, Icon = "🏠" },
            new DropdownItem { Id = "item5", Label = "Refrigerators", ParentId = "group2", Icon = "❄️" },
            new DropdownItem { Id = "item6", Label = "Microwaves", ParentId = "group2", Icon = "🍴" },
            new DropdownItem { Id = "subgroup2", Label = "Kitchen Tools", ParentId = "group2", IsGroup = true, Icon = "🍳" },
            new DropdownItem { Id = "item7", Label = "Blenders", ParentId = "subgroup2", Icon = "🥤" },
            new DropdownItem { Id = "item8", Label = "Mixers", ParentId = "subgroup2", Icon = "🍰" },

            new DropdownItem { Id = "group3", Label = "Books", IsGroup = true, Icon = "📚" },
            new DropdownItem { Id = "item9", Label = "Fiction", ParentId = "group3", Icon = "📖" },
            new DropdownItem { Id = "item10", Label = "Non-Fiction", ParentId = "group3", Icon = "📘" },
            new DropdownItem { Id = "subgroup3", Label = "Genres", ParentId = "group3", IsGroup = true, Icon = "📑" },
            new DropdownItem { Id = "item11", Label = "Mystery", ParentId = "subgroup3", Icon = "🕵️" },
            new DropdownItem { Id = "item12", Label = "Science Fiction", ParentId = "subgroup3", Icon = "🚀" },
            new DropdownItem { Id = "subsubgroup1", Label = "Classic Sci-Fi", ParentId = "item12", IsGroup = true, Icon = "📜" },
            new DropdownItem { Id = "item13", Label = "Dune", ParentId = "subsubgroup1", Icon = "🏜️" },
            new DropdownItem { Id = "item14", Label = "Foundation", ParentId = "subsubgroup1", Icon = "🏛️" }
        };
    }

    private async Task OnValueChanged(string newValue)
    {
        selectedValue = newValue;
    }

    public class DropdownItem
    {
        public string Id { get; set; }
        public string Label { get; set; }
        public string ParentId { get; set; }
        public bool IsGroup { get; set; }
        public string Icon { get; set; }
    }
}